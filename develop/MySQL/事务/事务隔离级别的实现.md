要实现事务要遵守4个特性
- 原子性  
- 一致性
- 隔离性
- 持久性

# 并行事务引发的问题
## 脏读
如果一个事务读到了另一个未提交事务修改过的数据，这时另一个事务读取的时修改过数据，但是如果事务回滚，那么这个事务读取到的就是过期的数据，这种线程叫做脏读。

## 不可重复读
一个事务多次读取同一个数据，如果前后两次读到的数据不一样的情况，就意味着发生了不可重复读

## 幻读
在一个事务内多次查询某个符合查询条件的记录数量，如果出现前后两次查询到的记录数量不一样的情况，就意味着发生了幻读现象

# 事务的隔离级别有哪些
- 读未提交，值一个事务还没提交时，它做的变更就能被其它事务看到
- 读提交，指一个事务提交之后，它做的变更才能被其它事务看到
- 可重复读，指一个事务执行过程中看到的数据，一直跟这个事务启动时看到的数据是一致的，MySQL InnoDB引擎的默认隔离级别
- 串行化，会对记录加上读写锁，在多个事务对这条记录进行读写操作时，如果发生了读写冲突的时候，后访问的食物必须等钱一个食物执行完成，才能继续执行
![[Pasted image 20250513203939.png]]
![[Pasted image 20250513205103.png]]
![[Pasted image 20250513205415.png]]

# Read View在MVCC里如何工作
![[Pasted image 20250513211403.png]]